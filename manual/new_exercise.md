アプリに新しいトレーニング種目を追加する手順
このドキュメントでは、開発者が手動で新しいトレーニング種目をアプリに追加するための手順を解説します。
例として「インクラインベンチプレス」を追加する場合で説明します。

概要
新しい種目の追加は、以下の4つのファイルを修正することで完了します。

data/training_log.csv （データ保管場所）
modules/form.py （データ入力画面）
modules/tracker.py （データ可視化画面）
modules/ranking.py （ランキング画面）
Step 1: data/training_log.csv を更新する
最初に、すべてのデータの元となるCSVファイルに、新しい種目用の列を手動で追加します。

data/training_log.csv ファイルをVSCodeやExcelなどで開きます。
一番右の列の、さらに右隣に新しい列を追加し、そのヘッダー（1行目）に以下のテキストを正確に入力します。
Plaintext

インクラインベンチプレス(kg × 回数)
ファイルを上書き保存します。
Note: この手動でのファイル編集は、新しい種目を追加する際に一度だけ必要な作業です。列名は既存の種目とフォーマットを一致させることが重要です。

Step 2: 入力フォーム (modules/form.py) を修正する
ユーザーが新しい種目を入力できるように、フォームを修正します。

1. 入力欄の追加
st.formの中にst.text_inputを追加して、入力欄を作成します。

コード スニペット

    # ...（略）...
    with st.form(key=f'training_form_{user_type}', clear_on_submit=True):
        # ...（略）...
        st.markdown("##### BIG 3")
        bench_press = st.text_input("ベンチプレス (kg-回数)", placeholder="例: 80-10")
        
        # ▼▼▼ ここに新しい種目の入力欄を追加 ▼▼▼
        incline_bench_press = st.text_input("インクラインベンチプレス (kg-回数)") 
        
        deadlift = st.text_input("デッドリフト (kg-回数)", placeholder="例: 120-8")
        squat = st.text_input("スクワット (kg-回数)", placeholder="例: 100-12")
        # ...（略）...
2. 保存処理の追加
if submit_button:ブロックの中にあるpd.DataFrame([...])の定義に、新しい種目の変数を追加して、入力された値が保存されるようにします。

コード スニペット

    # ...（略）...
    if submit_button:
        # ...（略）...
        new_record = pd.DataFrame([{
            # ...（略）...
            'ベンチプレス(kg × 回数)': bench_press,
            
            # ▼▼▼ ここに新しい種目の保存処理を追加 ▼▼▼
            'インクラインベンチプレス(kg × 回数)': incline_bench_press,
            
            'デッドリフト(kg × 回数)': deadlift,
            # ...（略）...
        }])
        # ...（略）...
Step 3: トラッカー (modules/tracker.py) を修正する
トラッカー画面で新しい種目が正しく表示され、計算されるように3ヶ所を修正します。

1. カラム名のリネーム設定を追加
df.renameの辞書に、新しい種目の日本語名と、プログラム内で使う英語名の対応を追加します。

コード スニペット

    df = df.rename(columns={
        'ベンチプレス(kg × 回数)': 'bench_press',
        # ▼▼▼ ここに追加 ▼▼▼
        'インクラインベンチプレス(kg × 回数)': 'incline_bench_press',
        'デッドリフト(kg × 回数)': 'deadlift',
        # ...（略）...
    })
2. 1RM計算の対象リストに追加
データ加工の対象となるexercise_colsリストに、上で定義した英語名を追加します。

コード スニペット

    exercise_cols = [
        'ベンチプレス',
        # ▼▼▼ ここに追加 ▼▼▼
        'インクラインベンチプレス',
        'デッドリフト', 'スクワット', 'ラットプルダウン',
        'マシンショルダープレス', 'レッグプレス', '45°レッグプレス'
    ]
3. 表示ラベルの追加
種目選択のドロップダウンメニューに表示されるexercise_labels辞書に、英語名と日本語名の対応を追加します。

コード スニペット

        exercise_labels = {
            'bench_press': 'ベンチプレス',
            # ▼▼▼ ここに追加 ▼▼▼
            'incline_bench_press': 'インクラインベンチプレス',
            'deadlift': 'デッドリフト',
            # ...（略）...
        }
Step 4: ランキング (modules/ranking.py) を修正する
ランキング機能で新しい種目を選べるようにします。

1. ランキングの対象リストに追加
exercise_colsリストに、新しい種目の日本語名を追加します。

コード スニペット

    exercise_cols = [
        'ベンチプレス',
        # ▼▼▼ ここに追加 ▼▼▼
        'インクラインベンチプレス',
        'デッドリフト', 'スクワット', 'ラットプルダウン',
        'マシンショルダープレス', 'レッグプレス', '45°レッグプレス'
    ]
まとめ
以上の4ステップで、新しい種目がアプリのすべての機能（入力、記録、グラフ表示、ランキング）に正しく統合されます。この手順に従えば、今後も安全に種目を拡張していくことが可能です。